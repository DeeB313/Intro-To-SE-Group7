{% extends 'core/base.html' %}

{% block title %} Cart   {% endblock %}
{% block content %}
<h1 class="text-2xl"> Cart </h1>

<div class="flex flex-wrap">
    {% for product in products %}
        <div class="product w-1/3 p-2">
            <div class="p-4 bg-gray-300">
                <a href="{% url 'product_detail' product.category.slug product.slug %}">
                    <h2 class="text-xl">{{product.title }}</h2>

                    {% if product.image %}
                    <div class="image mt-2.5 mb-1">
                        <img src="{{ product.image.url }}" alt="image of {{product.title }}">
                    </div>
                    {% endif %}

                    <p class="text-sm text-gray-600">${{product.get_display_price}}</p>
                </a>
            </div>
        </div> 
    {% endfor %}
</div>
<br>

<div>
    <p class="text-sm text-gray-600">Subtotal: ${{total}}</p>

    <form method="post" action="{% url 'checkout' %}">
        {% csrf_token %}
        <button type="submit" class="mt-6 inline-block py-4 px-6 bg-red-900 text-white">Checkout</button>
    </form>
</div>
{% endblock %}
